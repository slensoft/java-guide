<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>集合（java.util工具包） - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="small-font"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="集合（java.util工具包）" class="main-title"></div></div></header><article><details class="wolai-block"><summary><div class="marker"></div><span>数据结构</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>逻辑结构</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>集合</span></summary><div class="wolai-block wolai-text"><div><span>数据结构中的元素之间除了“同属一个集合”&nbsp;的相互关系外，别无其他关系；</span></div></div><div class="wolai-block wolai-text"><div><span>可能是同一个类型的</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>线性结构</span></summary><div class="wolai-block wolai-text"><div><span>数据结构中的元素存在一对一的相互关系；</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>树形结构</span></summary><div class="wolai-block wolai-text"><div><span>数据结构中的元素存在一对多的相互关系；</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>图形结构</span></summary><div class="wolai-block wolai-text"><div><span>数据结构中的元素存在多对多的相互关系。</span></div></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见的数据结构</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>数组（ArrayList）</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>链表（LinkedList）</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>栈(Stack)</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>队列(Queue)</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>树(Tree)</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>图(Graph)</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>堆(Heap)</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>散列表(Hash)</span></summary></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常用算法</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>插入</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>删除</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>更新</span></summary></details><details class="wolai-block"><summary><div class="marker"></div><span>检索</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>顺序查找（遍历）</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>二分查找</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>哈希查找</span></summary></details></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>插入排序</span></li><li><div class="marker"></div><span>冒泡排序</span></li><li><div class="marker"></div><span>选择排序</span></li><li><div class="marker"></div><span>希尔排序</span></li><li><div class="marker"></div><span>快速排序</span></li><li><div class="marker"></div><span>堆排序</span></li><li><div class="marker"></div><span>归并排序</span></li></ul></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>算法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>算法判定标准</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>时间复杂度</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>空间复杂度</span></summary></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见算法</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>递推法</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>递归法</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>穷举法（暴力破解）</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>贪心算法</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>分治算法</span></summary></details><details class="wolai-block"><summary><div class="marker"></div><span>动态规划</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://mp.weixin.qq.com/s/MgNGAWfKp9O0j4lwsx4qLA"><span>图解&nbsp;|&nbsp;你管这破玩意叫动态规划&nbsp;(qq.com)</span></a></span></div></div></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>回溯法</span></summary></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Java<span class="jill"></span>内置数据结构</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>什么是<span class="jill"></span>Java<span class="jill"></span>集合</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>就是一些<span class="jill"></span>Java<span class="jill"></span>内置实现的一些数据结构，可以直接使用</span></li><li><div class="marker"></div><span>大部分的集合都实现了<span class="jill"></span>Collection<span class="jill"></span>接口</span></li><li><div class="marker"></div><span>例如：ArrayList、LinkedList、HashSet<span class="jill"></span>都实现了<span class="jill"></span>Collection</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>思路</span></summary><div class="wolai-block wolai-text"><div><span>以接口为切入点，进行学习整理</span></div></div><div class="wolai-block wolai-text"><div><span>以下内容按照接口的层级进行书写，搞定了接口，后面子类基本大同小异。</span></div></div><div class="wolai-block wolai-text"><div><span>从接口开始看起，方便理清思路</span></div></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Collection&lt;E&gt;接口（集合）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>&nbsp;解释</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>它是常见<span class="jill"></span>Java<span class="jill"></span>内置常见</span><span><strong>集合类型</strong></span><span>数据结构的父接口（集合父接口）</span></li><li><div class="marker"></div><span>对于<span class="jill"></span>Collection<span class="jill"></span>接口，它实现了<span class="jill"></span>Iterable<span class="jill"></span>迭代器接口，所以拥有了例如：foreach()、iterator()等迭代方法，拥有了<span class="jill"></span>foreach<span class="jill"></span>循环的能力。不过在这里仅仅只查看<span class="jill"></span>Collection<span class="jill"></span>接口下的数据结构，不查看迭代器相关的东西。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>结构图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image.png" style="width: 421px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Collection<span class="jill"></span>接口方法使用</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>思路</span></summary><div class="wolai-block wolai-text"><div><span>下面是<span class="jill"></span>ArrayList<span class="jill"></span>实现的<span class="jill"></span>Collection<span class="jill"></span>接口方法示例（主要展示<span class="jill"></span>Collection<span class="jill"></span>接口中的方法），其他方法暂时不展示，待后面按照接口层级看到子类时，基本上就已经把子类的方法全部学习完了。</span></div></div><div class="wolai-block wolai-text"><div><span>这里使用<span class="jill"></span>ArrayList<span class="jill"></span>是因为这是最常见，也是最常用的一个<span class="jill"></span>List，建议看一下相关的源码，了解基本设计思路。</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>都是<span class="jill"></span>add<span class="jill"></span>开头的方法</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加元素1到末尾</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加指定的集合（3，4）到末尾</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>该接口中修改方法没有，主要看子类的实现</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>remove<span class="jill"></span>开头的方法，clear<span class="jill"></span>清空</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除指定下标位置的元素，并返回值元素值</span>
        String remove <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除第一个出现的指定元素</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除所有包含指定元素的值</span>
        list<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除指定元素，如果元素为"c"则删除</span>
        list<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> x<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除列表中不包含的集合元素</span>
        list<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删指所有</span>
        list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 输出：[]</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>主要是对列表的属性查询、元素查询、循环遍历</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表是否为空</span>
        <span class="token keyword">boolean</span> empty <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment" spellcheck="true">// 查询列表大小（就是元素个数）</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表中是否存在某元素</span>
        <span class="token keyword">boolean</span> a <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表中是否存在指定集合中的所有元素</span>
        <span class="token keyword">boolean</span> b <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><ul class="wolai-block"><li><div class="marker"></div><span>还有两个迭代器方法</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Collection.html#iterator--"><span>iterator</span></a></span><span>()（顺序遍历迭代器用于顺序遍历）和</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Collection.html#spliterator--"><span>spliterator</span></a></span><span>()（可分割迭代器用于并行拆分迭代），参考：</span><span><a href="https://baijiahao.baidu.com/s?id=1649268592254063537&amp;wfr=spider&amp;for=pc"><span>了解<span class="jill"></span>Java&nbsp;Spliterator&nbsp;这篇文章就够了&nbsp;(baidu.com)</span></a></span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>需要注意的是<span class="jill"></span>Comparator<span class="jill"></span>这个接口，里面有一些默认实现的方法</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 排序升序</span>
        list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Comparator<span class="token punctuation">.</span><span class="token function">naturalOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 排序降序</span>
        list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Comparator<span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（List&nbsp;、Queue、Set<span class="jill"></span>接口）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>List&nbsp;接口（列表）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>有序集合（也称为序列&nbsp;）。&nbsp;该界面的用户可以精确控制列表中每个元素的插入位置。&nbsp;用户可以通过整数索引（列表中的位置）访问元素，并搜索列表中的元素。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>简单来说就是：有序集合（也称为序列&nbsp;）</span></li><li><div class="marker"></div><span>常见的实现类有：</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/ArrayList.html"><span>ArrayList</span></a></span><span>&nbsp;，&nbsp;</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/LinkedList.html"><span>LinkedList</span></a></span><span>&nbsp;，&nbsp;</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Stack.html"><span>Stack</span></a></span><span>&nbsp;，&nbsp;</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Vector.html"><span>Vector</span></a></span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>结构图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_1.png" style="width: 499px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>List<span class="jill"></span>接口常用方法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>都是<span class="jill"></span>add<span class="jill"></span>开头的方法</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加元素1到末尾</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加元素2到指定位置（list中元素的下标是从0开始的，因为底层是数组）</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加指定的集合（3，4）到末尾</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加指定的集合（3，4）到末尾</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 最终输出：[1, 2, 3, 5, 6, 4]</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>主要是<span class="jill"></span>set<span class="jill"></span>和<span class="jill"></span>replace<span class="jill"></span>开头的方法，注意<span class="jill"></span>replaceAll<span class="jill"></span>传入的参数是<span class="jill"></span>lambda<span class="jill"></span>表达式</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 替换下标为0的元素值为100</span>
        Integer set <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 替换指定元素的值（如果元素值为2则替换成200，否则不替换</span>
        list<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> x <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">200</span> <span class="token operator">:</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>remove<span class="jill"></span>开头的方法，clear<span class="jill"></span>清空</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除指定下标位置的元素，并返回值元素值</span>
        String remove <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除第一个出现的指定元素</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除所有包含指定元素的值</span>
        list<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除列表中不包含的集合元素</span>
        list<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删指所有</span>
        list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 输出：[]</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>主要是对列表的属性查询、元素查询、循环遍历</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表是否为空</span>
        <span class="token keyword">boolean</span> empty <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表大小（就是元素个数）</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表中是否存在某元素</span>
        <span class="token keyword">boolean</span> a <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询列表中是否存在指定集合中的所有元素</span>
        <span class="token keyword">boolean</span> b <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询指定元素第一次出现的下标（从头开始</span>
        <span class="token keyword">int</span> i1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询指定元素第一次出现的下标（从尾部开始）</span>
        <span class="token keyword">int</span> i2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询指定下标的元素）</span>
        String s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 查询指定下标的列表（0包含, 2不包含）</span>
        List<span class="token operator">&lt;</span>String<span class="token operator">></span> strings <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// foreach循环查询（lambda和方法引用）</span>
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>out<span class="token operator">:</span><span class="token operator">:</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><details class="wolai-block"><summary><div class="marker"></div><span>查询并转换（数据结构转换）</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>将列表转换成数组</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 转换成对象数组</span>
        Object<span class="token punctuation">[</span><span class="token punctuation">]</span> objects <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 转换成字符串数组</span>
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> strings <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>需要注意的是<span class="jill"></span>Comparator<span class="jill"></span>这个接口，里面有一些默认实现的方法</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 排序升序</span>
        list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Comparator<span class="token punctuation">.</span><span class="token function">naturalOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 排序降序</span>
        list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Comparator<span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见实现子类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/ArrayList.html"><span>ArrayList<span class="jill"></span>类</span></a></span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>可调整大小的数组的实现<span class="jill"></span>List<span class="jill"></span>接口。&nbsp;实现所有可选列表操作，并允许所有元素，包括<span class="jill"></span>null&nbsp;。&nbsp;除了实现<span class="jill"></span>List&nbsp;接口之外，该类还提供了一些方法来操纵内部使用的存储列表的数组的大小。&nbsp;（这个类是大致相当于<span class="jill"></span>Vector，不同之处在于它是不同步的）。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>简单理解：就是可变长度数组</span></li><li><div class="marker"></div><span>特点：查询快（因为是一段存储空间，具有索引），增加修改删除慢（因为涉及到扩容，数组拷贝相关）</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>思路</span></summary><div class="wolai-block wolai-text"><div><span>仅仅只展示该类出特有的一些方法，因为其他方法都是实现字接口，在接口中已有示例，这里就不在过多赘述。</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>用的都是实现了父接口的方法，参考上面接口中的方法使用。例如：Collection、List<span class="jill"></span>接口</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 修改列表容量为列表当前的大小</span>
        list<span class="token punctuation">.</span><span class="token function">trimToSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 修改列表的容量</span>
        list<span class="token punctuation">.</span><span class="token function">ensureCapacity</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>remove<span class="jill"></span>开头的方法，clear<span class="jill"></span>清空</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        ArrayList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除指定元素，如果元素为"c"则删除</span>
        list<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>x <span class="token operator">-</span><span class="token operator">></span> x<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>同上，主要都是来自接口的方法实现</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>同上，主要都是来自接口的方法实现</span></li></ul></details></details><details class="wolai-block"><summary><div class="marker"></div><span>底层原理</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>ArrayList<span class="jill"></span>是基于数组实现的，是一个动态数组，其容量能自动增长</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>扩容细节</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>创建列表</span></summary><div class="wolai-block wolai-text"><div><span>创建<span class="jill"></span>ArratList<span class="jill"></span>的时候如果不传入容量<span class="jill"></span>initialCapacity<span class="jill"></span>值，则会使用默认容量为<span class="jill"></span>10<span class="jill"></span>的<span class="jill"></span>DEFAULT_CAPACITY<span class="jill"></span>值，进行创建一个类型为<span class="jill"></span>Object<span class="jill"></span>的数组<span class="jill"></span>elementData。</span></div></div><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token comment" spellcheck="true">// 默认容量为10</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> DEFAULT_CAPACITY <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>增加元素与扩容机制</span></summary><div class="wolai-block wolai-text"><div><span>增加元素时会先判断容量是否足够，如果容量不够了，则会进行小于等于<span class="jill"></span>1.5<span class="jill"></span>倍的扩容（其实也不一定是<span class="jill"></span>1.5<span class="jill"></span>倍正好，因为是&gt;&gt;位移操作，所以有可能会有<span class="jill"></span>1<span class="jill"></span>的误差，例如：5&gt;&gt;2<span class="jill"></span>就等于<span class="jill"></span>2），然后再拷贝到扩容后的新数组中。</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>关键代码</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>创建元素</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span>Collection<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">E</span><span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elementData <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>size <span class="token operator">=</span> elementData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// c.toArray might (incorrectly) not return Object[] (see 6260652)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>elementData<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                elementData <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> size<span class="token punctuation">,</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// replace with empty array.</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>elementData <span class="token operator">=</span> EMPTY_ELEMENTDATA<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></pre></div><ul class="wolai-block"><li><div class="marker"></div><span>添加元素与扩容机制</span></li></ul><div class="wolai-block wolai-text"><div><span></span><br/></div></div><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">add</span><span class="token punctuation">(</span>E e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Increments modCount!!</span>
        elementData<span class="token punctuation">[</span>size<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">ensureExplicitCapacity</span><span class="token punctuation">(</span><span class="token function">calculateCapacity</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> minCapacity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ensureExplicitCapacity</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modCount<span class="token operator">++</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// overflow-conscious code</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>minCapacity <span class="token operator">-</span> elementData<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token function">grow</span><span class="token punctuation">(</span>minCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div><ul class="wolai-block"><li><div class="marker"></div><span>容量：int&nbsp;newCapacity&nbsp;=&nbsp;oldCapacity&nbsp;+&nbsp;(oldCapacity&nbsp;&gt;&gt;&nbsp;1);</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">grow</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// overflow-conscious code</span>
        <span class="token keyword">int</span> oldCapacity <span class="token operator">=</span> elementData<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> oldCapacity <span class="token operator">+</span> <span class="token punctuation">(</span>oldCapacity <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">-</span> minCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            newCapacity <span class="token operator">=</span> minCapacity<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">-</span> MAX_ARRAY_SIZE <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
            newCapacity <span class="token operator">=</span> <span class="token function">hugeCapacity</span><span class="token punctuation">(</span>minCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// minCapacity is usually close to size, so this is a win:</span>
        elementData <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> newCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div></details></details><ul class="wolai-block"><li><div class="marker"></div><span>ArrayList<span class="jill"></span>不是线程安全的，只能用在单线程环境下。线程安全请使用<span class="jill"></span>JUC<span class="jill"></span>包下的<span class="jill"></span>CopyOnWriteArrayList<span class="jill"></span>类（并发的时候去了解一下）</span></li></ul></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Vector<span class="jill"></span>类（遗留类）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>废弃的原因</span></summary><div class="wolai-block wolai-text"><div><span>Vector<span class="jill"></span>是遗留类（和<span class="jill"></span>HashTable<span class="jill"></span>一样，不建议使用），这类集合库大量使用了&nbsp;synchronized&nbsp;来保证线程安全。但是在单线程环境下会有不必要的加锁操作，从而导致性能下降。然而“</span><span><a href="https://zhuanlan.zhihu.com/p/365454004"><span>偏向锁</span></a></span><span>”可以保证即便是使用了这些老的库，也不会产生很大的性能下降，因为&nbsp;JVM&nbsp;知道访问临界区的线程始终是同一个，也就避免了加锁操作。</span></div></div><div class="wolai-block wolai-text"><div><span>但是，随着时代的发展，新的<span class="jill"></span>Java<span class="jill"></span>类（比如<span class="jill"></span>ArrayList、HashMap）都使用了无锁集合库，这些集合库比老的集合库性能要更好。</span></div></div><div class="wolai-block wolai-text"><div><span>即便是多线程环境下，Java&nbsp;也提供了&nbsp;ConcurrentHashMap、CopyOnWriteArrayList&nbsp;等性能更好的线程安全的集合库。</span></div></div><div class="wolai-block wolai-text"><div><span>所以：</span></div></div><ol class="wolai-block"><li><div class="marker"></div><span>对于使用了<span class="jill"></span>Java<span class="jill"></span>提供的新的<span class="jill"></span>JUC<span class="jill"></span>并发库来说，使用</span><span><strong>偏向锁</strong></span><span>的收益不是那么明显了。</span></li><li><div class="marker"></div><span>当前多线程越来越普遍的情况下，偏向锁带来的锁升级操作反而会影响应用的性能</span></li></ol></details><details class="wolai-block"><summary><div class="marker"></div><span>参考</span></summary><ul class="wolai-block"><li><div class="marker"></div><span><strong>偏向锁</strong></span><span>是从&nbsp;JDK1.6&nbsp;引入的一种针对&nbsp;</span><span><strong>synchronized</strong></span><span>&nbsp;的锁优化技术，然而从&nbsp;JDK&nbsp;15&nbsp;开始，这一特性被官方标记为废弃状态。</span></li></ul><div class="wolai-block wolai-text"><div><span><a href="https://zhuanlan.zhihu.com/p/365454004"><span>你知道&nbsp;Java&nbsp;的偏向锁要被废弃掉了吗？&nbsp;-&nbsp;知乎&nbsp;(zhihu.com)</span></a></span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>子类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>Stack（栈）</span></summary><div class="wolai-block wolai-text"><div><span>对于<span class="jill"></span>Vector<span class="jill"></span>的子类，因为上述<span class="jill"></span>Vector<span class="jill"></span>的原因，所以<span class="jill"></span>Stack<span class="jill"></span>也废弃了，如果需要使用栈，可以尝试使用</span><span><code>Deque</code></span><span>接口下的</span><span><code>ArrayDeque</code></span><span>类</span></div></div></details></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Queue<span class="jill"></span>接口（队列）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>队列数据结构</span></li><li><div class="marker"></div><span>继承<span class="jill"></span>Collection<span class="jill"></span>接口</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>结构图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_2.png" style="width: 403px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Queue<span class="jill"></span>接口</span><span>常用方法</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>下面以<span class="jill"></span>LinkedList<span class="jill"></span>为例子，继承来的某些方法就不再过多展示。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加一个元素到队列</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 添加一个元素到队列（作用同上）</span>
        list<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>接口中没有提供修改方法，但是在</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Collection.html"><span>Collection</span></a></span><span>接口中有提供相关的修改方法。例如：retainAll()</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除（投出）队列中第一个元素，并且返回当前元素</span>
        String poll <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除队列中第一个元素，并且返回当前元素（同上）</span>
        String remove <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> new LinkedList<span class="token operator">&lt;></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询队列中第一个元素
        String element <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询（瞅一眼）队列中第一个元素
        String peek <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（Deque<span class="jill"></span>接口）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>Deque<span class="jill"></span>接口（双端队列）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>支持两端元素插入和移除的线性集合。&nbsp;名称<span class="jill"></span>deque<span class="jill"></span>是“双端队列”的缩写</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>双端队列数据结构，实现的常见子类有：</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/ArrayDeque.html"><span>ArrayDeque</span></a></span><span>、&nbsp;</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/LinkedList.html"><span>LinkedList</span></a></span><span>、&nbsp;</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/concurrent/ConcurrentLinkedDeque.html"><span>ConcurrentLinkedDeque</span></a></span></li><li><div class="marker"></div><span>如果不想使用<span class="jill"></span>LinkedList，可以尝试使用<span class="jill"></span>ArrayDeque<span class="jill"></span>类</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>Deque<span class="jill"></span>接口</span><span>方法</span><span>使用</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>下面以<span class="jill"></span>LinkedList<span class="jill"></span>为例子</span><span>，继承来的某些方法就不再过多展示</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>因为是双端队列，所以支持头部或者尾部进行插入，同时有好几个类似的方法，但是这几个方法在插入返回时有一些细微的差别</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 头部插入</span>
        list<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 头部插入（头部推送进去）</span>
        list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"a1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 头部插入（提供到头部）</span>
        list<span class="token punctuation">.</span><span class="token function">offerFirst</span><span class="token punctuation">(</span><span class="token string">"a2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 尾部插入</span>
        list<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 尾部插入（提供到尾部）</span>
        list<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token string">"b1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 尾部插入（提供到尾部，同上）</span>
        list<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span><span class="token string">"b3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>接口中没有提供修改方法，但是在</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Collection.html"><span>Collection</span></a></span><span>接口中有提供相关的修改方法。例如：retainAll()</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除第一个元素并返回</span>
        String remove <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String removeFirst <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String poll <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String pollFirst <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除第一个元素（弹出顶部元素）</span>
        String pop <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment" spellcheck="true">// 删除最后一个元素并返回</span>
        String removeLast <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除最后一个元素并返回（同上）</span>
        String pollLast <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 删除指定元素（第一个出现的指定元素）</span>
        <span class="token keyword">boolean</span> a <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> b <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">removeFirstOccurrence</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 删除指定元素（最后一次出现的指定元素）</span>
        <span class="token keyword">boolean</span> c <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">removeLastOccurrence</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>         LinkedList<span class="token operator">&lt;</span>String<span class="token operator">></span> list <span class="token operator">=</span> new LinkedList<span class="token operator">&lt;></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询第一个元素
        String element <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String getFirst <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String peek <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String peekFirst <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>

        <span class="token operator">/</span><span class="token operator">/</span> 查询最后一个元素
        String getLast <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String peekLast <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
                
        <span class="token operator">/</span><span class="token operator">/</span> 查询是否包含指定元素
        boolean a <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
</pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见实现子类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>LinkedList</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>双链表实现了</span><span><code>List</code></span><span>和</span><span><code>Deque</code></span><span>接口。所有的操作都能像双向列表一样预期。&nbsp;索引到列表中的操作将从开始或结束遍历列表，以更接近指定的索引为准。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>链表数据结构，不过由于实现了<span class="jill"></span>Queue、Deque<span class="jill"></span>接口，它也可以被当成队列、双端队列</span><span>（也可以使用<span class="jill"></span>ArrayDeque）</span><span>、栈来使用。</span></li><li><div class="marker"></div><span>特点：增加修改删除快（只需要操作前、中、后三个节点即可），查询慢（因为没有索引，需要遍历一遍链表才能找到对应的数据）</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>图</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>链表长这样</span></li></ul><div class="wolai-block wolai-center"><figure><img src="media/image_3.png" style="width: 470px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>使用</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>由于实现了<span class="jill"></span>Collection<span class="jill"></span>接口中的方法，并且在上面<span class="jill"></span>Collection、Queue、Deque<span class="jill"></span>接口已经有了示例，所以在这里就不再重复进行使用展示了</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>底层原理</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>LinkedList<span class="jill"></span>类中有如下几个属性（用于标注第一个和最后一个元素）</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token comment" spellcheck="true">// 元素个数</span>
    <span class="token keyword">transient</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 第一个元素</span>
    <span class="token keyword">transient</span> Node<span class="token operator">&lt;</span>E<span class="token operator">></span> first<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 最后一个元素</span>
    <span class="token keyword">transient</span> Node<span class="token operator">&lt;</span>E<span class="token operator">></span> last<span class="token punctuation">;</span></pre></div><ul class="wolai-block"><li><div class="marker"></div><span>内部类<span class="jill"></span>Node<span class="jill"></span>节点（每一个节点都是有前节点、后节点，说明这是一个双端链表，而不是一个单链表）</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 当前节点</span>
        E item<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 下一个节点</span>
        Node<span class="token operator">&lt;</span>E<span class="token operator">></span> next<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 后节点</span>
        Node<span class="token operator">&lt;</span>E<span class="token operator">></span> prev<span class="token punctuation">;</span>

        <span class="token function">Node</span><span class="token punctuation">(</span>Node<span class="token operator">&lt;</span>E<span class="token operator">></span> prev<span class="token punctuation">,</span> E element<span class="token punctuation">,</span> Node<span class="token operator">&lt;</span>E<span class="token operator">></span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>item <span class="token operator">=</span> element<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>prev <span class="token operator">=</span> prev<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>ArrayDeque</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>线程不安全</span></li><li><div class="marker"></div><span>是<span class="jill"></span>Deque<span class="jill"></span>的实现类，可以当作双端队列，也可以当成栈来使用，效率比废弃的<span class="jill"></span>Stack<span class="jill"></span>要高。</span></li><li><div class="marker"></div><span>需要注意<span class="jill"></span>ArrayDeque<span class="jill"></span>是不支持的<span class="jill"></span>null<span class="jill"></span>值的，如果为<span class="jill"></span>null<span class="jill"></span>则会抛出空指针异常<span class="jill"></span>NPE（源码中有<span class="jill"></span>nulll<span class="jill"></span>判断）。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>使用</span></summary><div class="wolai-block wolai-text"><div><span>由于是实现了相关的接口，所以主要看上面接口的常用方法即可。</span></div></div></details></details></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Set&nbsp;接口（集合）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>不包含重复元素的集合。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>结构图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_4.png" style="width: 470px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Set&nbsp;接口常用方法</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>大部分方法都是实现的<span class="jill"></span>Collection<span class="jill"></span>接口，主要还是看实现子类。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>常见实现子类（</span><span>HashSet</span><span>）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>HashSet</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>此类实现<span class="jill"></span>Set<span class="jill"></span>接口，由哈希表（实际为<span class="jill"></span>HashMap<span class="jill"></span>实例）支持。&nbsp;</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>线程不安全、允许<span class="jill"></span>null<span class="jill"></span>元素</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>常用方法都来源于接口实现</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>底层原理</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>在创建时底层实际上创建的还是<span class="jill"></span>HashMap</span></summary></details><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token function">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div><ul class="wolai-block"><li><div class="marker"></div><span>调用的相关方法也还是<span class="jill"></span>HashMap<span class="jill"></span>的相关方法</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">add</span><span class="token punctuation">(</span>E e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> PRESENT<span class="token punctuation">)</span><span class="token operator">==</span>null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（SortedSet<span class="jill"></span>接口）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>SortedSet<span class="jill"></span>接口</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Set.html"><span><code>Set</code></span></a></span><span>进一步提供其元素的</span><span><em>总排序</em></span><span>，元素使用他们的</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/lang/Comparable.html"><span>natural&nbsp;ordering</span></a></span><span>或通常在排序集创建时提供的</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Comparator.html"><span><code>Comparator</code></span></a></span><span>进行排序。&nbsp;集合的迭代器将以递增的元素顺序遍历集合。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>用于排序</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>SortedSet<span class="jill"></span>子接口</span><span>方法使用</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>思路</span></summary><div class="wolai-block wolai-text"><div><span>以下示例代码使用<span class="jill"></span>TreeSet<span class="jill"></span>类进行示例</span></div></div><div class="wolai-block wolai-text"><div><span></span><br/></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>增删改</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>增删改参考父类接口方法</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        TreeSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set <span class="token operator">=</span> new TreeSet<span class="token operator">&lt;></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询第一个元素
        String first <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询最后一个元素
        String last <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询小于指定元素的集合（d不包含）
        SortedSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set1 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">headSet</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询指定元素区间的集合<span class="token punctuation">[</span>b包含<span class="token punctuation">,</span> d不包含）
        SortedSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set2 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">subSet</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询大于指定元素的集合（d包含）
        SortedSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set3 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">tailSet</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（NavigableSet）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>NavigableSet<span class="jill"></span>接口</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/SortedSet.html"><span><code>SortedSet</code></span></a></span><span>扩展了导航方法，报告给定搜索目标的最匹配的匹配。&nbsp;方法</span><span><code>lower</code></span><span>&nbsp;，&nbsp;</span><span><code>floor</code></span><span>&nbsp;，&nbsp;</span><span><code>ceiling</code></span><span>和</span><span><code>higher</code></span><span>返回元件分别大于给定的元素小于，小于或等于，大于或等于，大于，如果不存在返回</span><span><code>null</code></span><span>。</span><span><code>NavigableSet</code></span><span>可以按升序或降序进行访问和遍历。</span></blockquote></details><details class="wolai-block"><summary><div class="marker"></div><span>SortedSet<span class="jill"></span>子接口</span><span>方法使用</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>增加修改则是参考父类接口。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>TreeSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set <span class="token operator">=</span> new TreeSet<span class="token operator">&lt;></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 删除第一个元素  
String pollFirst <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 删除最后一个元素  
String pollLast <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>TreeSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set <span class="token operator">=</span> new TreeSet<span class="token operator">&lt;></span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询元素条件是指定元素：小于lower，小于或等于floor，大于或等于ceiling，大于higher  
String a <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">lower</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
String a1 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
String a2 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">ceiling</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
String a3 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">higher</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询小于或等于的集合（inclusive为<span class="token boolean">true</span>时包含等于，<span class="token boolean">false</span>时不包含）  
NavigableSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set1 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">headSet</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询指定元素区间的集合<span class="token punctuation">[</span>b包含<span class="token punctuation">,</span> d不包含）（inclusive为<span class="token boolean">true</span>时包含等于，<span class="token boolean">false</span>时不包含）  
NavigableSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set2 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">subSet</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询大于指定元素的集合（inclusive为<span class="token boolean">true</span>时包含等于，<span class="token boolean">false</span>时不包含）  
NavigableSet<span class="token operator">&lt;</span>String<span class="token operator">></span> set3 <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">tailSet</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见实现子类（TreeSet）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>TreeSet</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>实现基于</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/TreeMap.html"><span><code>TreeMap</code></span></a></span><span>&nbsp;。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>线程不安全</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>都是实现自父类的方法</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>底层原理</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>底层创建时是一个<span class="jill"></span>TreeMap，详情看<span class="jill"></span>TreeMap</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    public <span class="token function">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
        <span class="token function">this</span><span class="token punctuation">(</span>new TreeMap<span class="token operator">&lt;</span>E<span class="token punctuation">,</span>Object<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div><div class="wolai-block wolai-text"><div><span></span><br/></div></div></details></details></details></details></details></details></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Map&lt;K，V&gt;接口（映射）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>将键映射到值的对象。&nbsp;地图不能包含重复的键;&nbsp;每个键可以映射到最多一个值。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>映射数据结构，也可以叫做“</span><span>散列表</span><span>”</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>问题</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://blog.csdn.net/codeHaoHao/article/details/85395920"><span>为什么<span class="jill"></span>map<span class="jill"></span>不继承<span class="jill"></span>collection<span class="jill"></span>接口</span></a></span><span>？</span></div></div><div class="wolai-block wolai-text"><div><span>因为：collection<span class="jill"></span>提供的是一组数据集合，然而<span class="jill"></span>map<span class="jill"></span>是映射关系</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>概念图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_5.png" style="width: 528px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>思路</span></summary><div class="wolai-block wolai-text"><div><span>这里使用<span class="jill"></span>HashMap<span class="jill"></span>子类实现，</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new HashMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 插入数据  
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 插入映射数据  
map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span>new HashMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 如果键不存在则插入，存在则返回给定值  
Integer a <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 合并键值（如果给定的键k不存在则插入值v，如果存在则根据后面的lambda表达式判断是否替换该值（如果老值oldValue为<span class="token number">1</span>则替换成新值））  
map<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>oldValue<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> oldValue <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> newValue<span class="token punctuation">:</span> oldValue<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
<span class="token operator">/</span><span class="token operator">/</span> 查询插入<span class="token punctuation">,</span>如果不存在k，则根据lambda插入  
Integer a <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Objects<span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">100</span> <span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询插入<span class="token punctuation">,</span>如果不存在k，则根据lambda插入  
Integer integer <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> v <span class="token operator">-</span><span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
</pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new HashMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 插入数据  
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 替换指定的k  
map<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 替换指定的k（按照条件替换）  
map<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 替换所有值v  
map<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
<span class="token operator">/</span><span class="token operator">/</span> 查询替换，如果存在k则根据lambda进行替换  
Integer d <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">computeIfPresent</span><span class="token punctuation">(</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> v <span class="token operator">+</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>删除</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new HashMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 插入数据  
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 删除  
map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 删除清空  
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new HashMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询基本信息  
boolean empty <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
int size <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询是否包含键或值  
boolean b <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
boolean b1 <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询键集合  
Set<span class="token operator">&lt;</span>String<span class="token operator">></span> strings <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询值集合  
Collection<span class="token operator">&lt;</span>Integer<span class="token operator">></span> values <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询映射实体集合  
Set<span class="token operator">&lt;</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span><span class="token operator">></span> entries <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询指定键k的值  
Integer a1 <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询指定键的值，如果不存在的返回默认hi  
Integer a2 <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>HashMap</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>资料</span></summary><div class="wolai-block wolai-text"><div><span>HashMap：</span><span><a href="https://www.cnblogs.com/DarrenChan/p/8854859.html"><span>[转]为什么<span class="jill"></span>Java<span class="jill"></span>中的<span class="jill"></span>HashMap<span class="jill"></span>默认加载因子是<span class="jill"></span>0.75&nbsp;-&nbsp;DarrenChan<span class="jill"></span>陈驰&nbsp;-&nbsp;博客园&nbsp;(cnblogs.com)</span></a></span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>解释</span></summary><blockquote class="wolai-block"><span>基于哈希表的实现的<span class="jill"></span>Map<span class="jill"></span>接口。&nbsp;此实现提供了所有可选的地图（映射）操作，并允许<span class="jill"></span>null<span class="jill"></span>的值和<span class="jill"></span>null<span class="jill"></span>键。</span></blockquote><ul class="wolai-block"><li><div class="marker"></div><span>就是映射、散列表</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><div class="wolai-block wolai-text"><div><span>面向接口编程，该类实现了大部分的接口方法</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>底层原理</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>实现原理概念图</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_6.png" style="width: 470px"/></figure></div></details><details class="wolai-block"><summary><div class="marker"></div><span>核心代码</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token operator">/</span><span class="token operator">/</span> 默认负载因子
    <span class="token keyword">static</span> final float DEFAULT_LOAD_FACTOR <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">.</span>75f<span class="token comment" spellcheck="true">;</span>
    <span class="token operator">/</span><span class="token operator">/</span> 容纳键值对的临界值（计算公式：数组长度<span class="token operator">*</span>负载因子）
    int threshold<span class="token comment" spellcheck="true">;</span>
    <span class="token operator">/</span><span class="token operator">/</span> 记录内部结构发生改变次数
    transient int modCount<span class="token comment" spellcheck="true">;</span>
    <span class="token operator">/</span><span class="token operator">/</span> 创建时默认容量是<span class="token number">16</span>（就是数组的长度）
    <span class="token keyword">static</span> final int DEFAULT_INITIAL_CAPACITY <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token number">4</span><span class="token comment" spellcheck="true">; // aka 16</span>
    <span class="token operator">/</span><span class="token operator">/</span> 创建
    public <span class="token function">HashMap</span><span class="token punctuation">(</span>int initialCapacity<span class="token punctuation">)</span> {
        <span class="token function">this</span><span class="token punctuation">(</span>initialCapacity<span class="token punctuation">,</span> DEFAULT_LOAD_FACTOR<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }
    <span class="token operator">/</span><span class="token operator">/</span> 内部类Node节点
    <span class="token operator">/</span><span class="token operator">/</span>（每个node节点用于存放hash值、key键值、v下一个元素的值、<span class="token keyword">next</span>下一个节点）
    <span class="token keyword">static</span> class Node<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> implements Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> {
        final int hash<span class="token comment" spellcheck="true">;</span>
        final K key<span class="token comment" spellcheck="true">;</span>
        V value<span class="token comment" spellcheck="true">;</span>
        Node<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> <span class="token keyword">next</span><span class="token comment" spellcheck="true">; </span>
    }
    <span class="token operator">/</span><span class="token operator">/</span> 树节点
    <span class="token keyword">static</span> final class TreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> extends LinkedHashMap<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> {
        TreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> parent<span class="token comment" spellcheck="true">;  // red-black tree links</span>
        TreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> left<span class="token comment" spellcheck="true">;</span>
        TreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> right<span class="token comment" spellcheck="true">;</span>
        TreeNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">></span> prev<span class="token comment" spellcheck="true">;    // needed to unlink next upon deletion</span>
        boolean red<span class="token comment" spellcheck="true">; </span>
    } </pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>❓</span><span>问题</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>JDK&nbsp;1.7<span class="jill"></span>和<span class="jill"></span>1.8<span class="jill"></span>区别？</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>JDK1.7<span class="jill"></span>的时候，是以数组<span class="jill"></span>+<span class="jill"></span>链表的方式解决<span class="jill"></span>Hash<span class="jill"></span>碰撞问题</span></li><li><div class="marker"></div><span>JDK1.8<span class="jill"></span>的时候则是在这个基础上增加了红黑树结构，以数组<span class="jill"></span>+<span class="jill"></span>链表<span class="jill"></span>+<span class="jill"></span>红黑树的方式。当链表长度大于<span class="jill"></span>8<span class="jill"></span>且容量大于<span class="jill"></span>64<span class="jill"></span>时，链表会转换成红黑树。当红黑树长度小于等于<span class="jill"></span>6<span class="jill"></span>时又会转换成链表幸是</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>HashMap<span class="jill"></span>默认数组长度是多少？</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>从源码中可以看到默认的数组长度是<span class="jill"></span>16，当达到了负载因子的<span class="jill"></span>0.75<span class="jill"></span>时候，则会发生数组扩容。</span></li><li><div class="marker"></div><span>具体代码：DEFAULT_INITIAL_CAPACITY&nbsp;=&nbsp;1&nbsp;&lt;&lt;&nbsp;4</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>参考</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://www.jianshu.com/p/2db05dbcba2d"><span>【老实李】HashMap<span class="jill"></span>的底层原理探索&nbsp;-&nbsp;简书&nbsp;(jianshu.com)</span></a></span></div></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>HashMap<span class="jill"></span>数组扩容时的负载因子为什么是<span class="jill"></span>0.75？（0.75<span class="jill"></span>特殊吗）</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>简单来说：0.75<span class="jill"></span>这个数字作者在源码中也没有交代，反而使用了“</span><span><strong>一般而言</strong></span><span>”来进行说明了<span class="jill"></span>0.75<span class="jill"></span>这个数字，我觉得这是作者心里预取个数字。</span></li><li><div class="marker"></div><span>我的猜测是：如果我们自己设计一个扩容值，那么应该是在<span class="jill"></span>0.5-1<span class="jill"></span>之间。如果是<span class="jill"></span>0.5，那么在空着一半容量的时候就扩容了，感觉上对空间进行了浪费。如果是<span class="jill"></span>1<span class="jill"></span>的话，那么还没有进行扩容之前，有超大的概率会发生碰撞，数据插入到了其他数组桶中，不太符合我们想要<span class="jill"></span>hash<span class="jill"></span>散列分布的设计思想。反而是<span class="jill"></span>0.75<span class="jill"></span>这个值很特殊，正好是<span class="jill"></span>0.5-1<span class="jill"></span>中间的中位数。并且<span class="jill"></span>HashMap<span class="jill"></span>默认数组长度是正好<span class="jill"></span>16，当满足<span class="jill"></span>0.75<span class="jill"></span>时进行扩容，也就是说在数组长度为整数<span class="jill"></span>12<span class="jill"></span>的时候就会产生扩容，这个值感觉是不错的。</span></li><li><div class="marker"></div><span>另一种说法：是来自概率论中的“二项分布”，经过“二项分布”公式推导，计算得出最终的值为<span class="jill"></span>ln2（</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>e</mi></msub><mn>2</mn></mrow><annotation encoding="application/x-tex">\log_e2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93858em;vertical-align:-0.24414em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.057252em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span></span></span></span></span><span>），约等于<span class="jill"></span>0.69。那么从<span class="jill"></span>0.5-1<span class="jill"></span>之间找出一个小数，用于扩容，那么我也会选择<span class="jill"></span>0.75<span class="jill"></span>这个负载因子。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>JDK1.8<span class="jill"></span>为什么链表长度超过<span class="jill"></span>8<span class="jill"></span>要转成红黑树？</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>因为当链表过长时，查询效率会变低，极限情况下链表查询的时间复杂度为<span class="jill"></span>O(n)，严重地影响了<span class="jill"></span>HashMap<span class="jill"></span>的性能。</span></li><li><div class="marker"></div><span>链表长度大于<span class="jill"></span>8<span class="jill"></span>引入红黑树后，时间复杂度变成了<span class="jill"></span>O(nlogn)，以此提升了<span class="jill"></span>HashMap<span class="jill"></span>的性能。</span></li><li><div class="marker"></div><span>并且在红黑树长度小于<span class="jill"></span>6<span class="jill"></span>的时候，他还会转换成链表，以此提升性能。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>为什么是长度是<span class="jill"></span>8<span class="jill"></span>时才转红黑树？（8<span class="jill"></span>有什么特殊的）</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>因为如果一个链表长度不是很长，即使&nbsp;O(n)&nbsp;的时间复杂度也不会导致查询性能问题，反而使用了红黑树会对新增元素的性能产生影响，也就是说元素太少时，对红黑树的维护造成的性能下降，也许会大于对查询性能的优化。（红黑树节点小于<span class="jill"></span>8<span class="jill"></span>的时候维护红黑树的性能，比不上直接使用链表来的好，所以会节点小于<span class="jill"></span>6<span class="jill"></span>时会转换成链表）</span></li><li><div class="marker"></div><span>对于这个<span class="jill"></span>8<span class="jill"></span>的话，作者在源码中也有详细的解释，关键字是：泊松分布，（是一种统计与概率学里常见到的离散机率分布）</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>HashMap&nbsp;是如何解决&nbsp;hash&nbsp;碰撞的？</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解决方案</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>解决&nbsp;hash&nbsp;碰撞比较常用的两种解决方法是：开放寻址法、拉链法。</span></li><li><div class="marker"></div><span>HashMap&nbsp;</span><span>解决&nbsp;hash&nbsp;碰撞</span><span>使用的是“</span><span><strong>拉链法</strong></span><span>”，也就是前面提到的链表，当发生&nbsp;hash&nbsp;碰撞时，使用链表把冲突的&nbsp;node&nbsp;连接起来，当链表长度大于&nbsp;8&nbsp;且&nbsp;n&nbsp;大于&nbsp;8&nbsp;时，转换为红黑树结构。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>图（计算<span class="jill"></span>hash<span class="jill"></span>值）</span></summary><div class="wolai-block wolai-center"><figure><img src="media/image_7.png" style="width: 441px"/></figure></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>参考</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://www.bilibili.com/video/BV1oE411n7ug?from=search&amp;seid=247044985316811266"><span>【Java<span class="jill"></span>源码精选】3<span class="jill"></span>分钟轻松理解<span class="jill"></span>HashMap<span class="jill"></span>原理</span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://segmentfault.com/a/1190000023308658"><span>【JAVA】HashMap<span class="jill"></span>的负载因子为什么是<span class="jill"></span>0.75</span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://blog.csdn.net/qq_42524262/article/details/100624933"><span>hashMap<span class="jill"></span>的数组长度，加载因子及转红黑树的阈值解析</span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://www.cnblogs.com/tongxuping/p/8276198.html"><span>HashMap<span class="jill"></span>碰撞问题</span></a></span></div></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>ConcurrentHashMap（JUC<span class="jill"></span>并发包）</span></summary><div class="wolai-block wolai-text"><div><span>主要就是实现了再多线程环境下并发执行是安全，其他的和<span class="jill"></span>HashMap<span class="jill"></span>没啥差别，再者就是多出了一些方法。</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span>HashTable</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>线程不安全情况，已经有了更好的<span class="jill"></span>HashMap<span class="jill"></span>类</span></li><li><div class="marker"></div><span>线程安全情况下，有了更好的<span class="jill"></span>JUC<span class="jill"></span>包下的<span class="jill"></span>ConcurrentHashMap<span class="jill"></span>类</span></li><li><div class="marker"></div><span>HashTable<span class="jill"></span>的父类<span class="jill"></span>Dictionary<span class="jill"></span>已经被官方弃用，建议使用的是实现<span class="jill"></span>Map<span class="jill"></span>接口</span></li></ul></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（SortedMap&nbsp;&lt;K，V&gt;）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>概念图</span></summary><blockquote class="wolai-block"><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Map.html"><span><code>Map</code></span></a></span><span>进一步提供其键上的_总排序_&nbsp;。&nbsp;地图根据其键的</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/lang/Comparable.html"><span>natural&nbsp;ordering</span></a></span><span>或通过在分类地图创建时提供的</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/Comparator.html"><span><code>Comparator</code></span></a></span><span>进行排序。</span></blockquote><div class="wolai-block wolai-center"><figure><img src="media/image_8.png" style="width: 390px"/></figure></div></details><details class="wolai-block"><summary><div class="marker"></div><span>SortedMap</span><span><a href="https://www.mklab.cn/onlineapi/jdk_8_cn/java/util/SortedMap.html"><span>&nbsp;</span></a></span><span>&lt;K，V&gt;接口</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>主要就是一些查询方法</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        SortedMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new TreeMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>

        <span class="token operator">/</span><span class="token operator">/</span> 查询树上的第一个key
        String firstKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">firstKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询树上的最后一个key
        String lastKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询比较器
        Comparator<span class="token operator">&lt;</span><span class="token operator">?</span> super String<span class="token operator">></span> comparator <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询头部map
        SortedMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> headMap <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">headMap</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询尾部map
        SortedMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> tailMap <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询指定区间的map
        SortedMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> subMap <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常见子接口（</span><span>NavigableMap&nbsp;</span><span>）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>NavigableMap&nbsp;&lt;K，V&gt;接口</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>常见实现子类（</span><span>TreeMap</span><span>）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>TreeMap<span class="jill"></span>类</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>主要实现了相关的接口方法（需要注意的是，他是有序的）</span></li></ul></details></details><details class="wolai-block"><summary><div class="marker"></div><span>常用方法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        NavigableMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> map <span class="token operator">=</span> new TreeMap<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询相关树（指定范围）
        String ceilingKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">ceilingKey</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> ceilingEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">ceilingEntry</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String floorKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">floorKey</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> floorEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">floorEntry</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String higherKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">higherKey</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> higherEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">higherEntry</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        String lowerKey <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">lowerKey</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> lowerEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">lowerEntry</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        NavigableMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> subMap <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        NavigableMap<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> tailMap <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询树节点映射
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> firstEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">firstEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> lastEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">lastEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> pollFirstEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">pollFirstEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Integer<span class="token operator">></span> pollLastEntry <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">pollLastEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details></details></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>工具类<span class="jill"></span>Collections、Arrays、Objects</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>Collections</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 新增：集合拷贝
        Collections<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> new ArrayList<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 新增：集合填充
        Collections<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>new ArrayList<span class="token operator">&lt;></span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 修改：替换指定元素
        boolean b <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 修改：反转列表
        Collections<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 修改：反转指定长度的列表
        Collections<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 修改：交换列表中指定元素
        Collections<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 查找：二分查找
        int i <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查询两个集合中是否存在重复元素
        boolean disjoint <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">disjoint</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>disjoint<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查找集合中是否存在目标集合
        int i1 <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">indexOfSubList</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        int i2 <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">lastIndexOfSubList</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查找集合中最大<span class="token operator">/</span>最小的元素
        Integer max <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Integer min <span class="token operator">=</span> Collections<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 排序：升序、降序
        Collections<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Collections<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Comparator<span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Arrays</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>增加</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 新增
        List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> integers <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        int<span class="token punctuation">[</span><span class="token punctuation">]</span> ints <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        int<span class="token punctuation">[</span><span class="token punctuation">]</span> ints1 <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>修改</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 修改：填充
        Arrays<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 修改：将数组转换成流
        IntStream stream <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 查找：二分查找
        int i <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        <span class="token operator">/</span><span class="token operator">/</span> 查找：比较俩数组元素是否相等
        boolean equals <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>排序</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        <span class="token operator">/</span><span class="token operator">/</span> 排序
        Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Arrays<span class="token punctuation">.</span><span class="token function">parallelSort</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Arrays<span class="token punctuation">.</span><span class="token function">parallelSort</span><span class="token punctuation">(</span>new int<span class="token punctuation">[</span><span class="token punctuation">]</span>{<span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>}<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Objects</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>查询</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token operator">/</span><span class="token operator">/</span> 查询：比较大小  
int compare <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Comparator<span class="token punctuation">.</span><span class="token function">naturalOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查找：深度比较是否相等  
boolean b <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">deepEquals</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询：是否<span class="token keyword">null</span>  
boolean isNull <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询：是否非<span class="token keyword">null</span>  
boolean nonNull <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">nonNull</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
<span class="token operator">/</span><span class="token operator">/</span> 查询：都想是否非<span class="token keyword">null</span>  
List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> integers <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;  </span>
List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> integers2 <span class="token operator">=</span> Objects<span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"如果参数是null，则抛出异常"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>刷题</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>单链表</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/yi-kan-jiu-hui-yi-xie-jiu-fei-xiang-jie-di-gui-by-/"><span>一看就会，一写就废？详解递归&nbsp;-&nbsp;合并两个有序链表&nbsp;-&nbsp;力扣（LeetCode）&nbsp;(leetcode-cn.com)</span></a></span></div></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>参考</span></summary><div class="wolai-block wolai-text"><div><span><a href="https://blog.csdn.net/weixin_44034328/article/details/104086851"><span>【数据结构】数据结构概述_长生的梦呓-CSDN<span class="jill"></span>博客</span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://github.com/labuladong/fucking-algorithm"><span>GitHub&nbsp;-&nbsp;labuladong/fucking-algorithm:&nbsp;刷算法全靠套路，认准&nbsp;labuladong&nbsp;就够了！</span></a></span></div></div><div class="wolai-block wolai-text"><div><span><a href="https://github.com/geekxh/hello-algorithm"><span>小浩算法：GitHub&nbsp;-&nbsp;geekxh/hello-algorithm:&nbsp;🌍「算法面试<span class="jill"></span>+<span class="jill"></span>算法知识」针对小白的算法训练</span></a></span></div></div></details></article><footer></footer></body></html>