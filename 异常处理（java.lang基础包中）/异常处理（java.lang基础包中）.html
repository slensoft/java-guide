<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>异常处理（java.lang基础包中） - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body class="small-font"><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="异常处理（java.lang基础包中）" class="main-title"></div></div></header><article><details class="wolai-block"><summary><div class="marker"></div><span>概念作用</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>异常就是可预测但是又没办法消除的一种错误。</span></li><li><div class="marker"></div><span>异常分为两类，一种是不可以处理的错误<span class="jill"></span>Error，另一种是可以处理的异常<span class="jill"></span>Exception</span></li><li><div class="marker"></div><span>主要是为了程序的健壮性</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>异常分为两种</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>编译期</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>编译期出现的异常（写代码的时候就会出现，会提醒你，例如<span class="jill"></span>IDE<span class="jill"></span>爆红就是）</span></li></ul><div class="wolai-block wolai-text"><p><span>如下就是编译器异常</span></p></div><div class="wolai-block wolai-center"><figure><img src="media/image.png" style="width: 296px"/></figure></div></details><details class="wolai-block"><summary><div class="marker"></div><span>运行期</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>运行期出现的异常（程序运行的时候才会出现的异常）</span></li></ul><div class="wolai-block wolai-center"><figure><img src="media/image_1.png" style="width: 396px"/></figure></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>Throwable（异常超类&nbsp;-&nbsp;运行期异常）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>概念</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>行时会抛出的异常分为两种：异常<span class="jill"></span>Exception、错误<span class="jill"></span>Error</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>图解</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>异常、错误都继承<span class="jill"></span>Throwable<span class="jill"></span>类，Throwable<span class="jill"></span>是超类</span></li></ul><div class="wolai-block wolai-center"><figure><img src="media/image_2.png" style="width: 526px"/></figure></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>异常（Exception）</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>所有<span class="jill"></span>Exception<span class="jill"></span>类下，不属于</span><span><code>RuntimeException</code></span><span>子类的都是已检查异常（需要捕获或者抛出）。</span></li><li><div class="marker"></div><span><code>RuntimeException</code></span><span>子类下的都是未检查异常，只有在程序运行时才会出现</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>已检查异常</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>已检查异常概念解释</span></summary><blockquote class="wolai-block"><span>就是编译器要求你必须处置的异常。不知道你编程的时候有没有遇到过，你写的某段代码，编译器要求你必须要对这段代码&nbsp;try...catch，或者&nbsp;throws&nbsp;exception，如果你遇见过，没错，这就是检查异常，也就是说，你代码还没运行呢，编译器就会检查你的代码，会不会出现异常，要求你对可能出现的异常必须做出相应的处理。</span><span><a href="https://blog.csdn.net/weixin_39613540/article/details/114258248"><span>原文链接</span></a></span></blockquote><div class="wolai-block wolai-text"><p><span>就是<span class="jill"></span>IDE<span class="jill"></span>会提示捕获或者抛出的异常。</span></p></div><div class="wolai-block wolai-center"><figure><img src="media/image_3.png" style="width: 516px"/></figure></div></details><details class="wolai-block"><summary><div class="marker"></div><span>常见的已检查异常</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>解析异常：ParseException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> ParseException <span class="token punctuation">{</span>
        Date parse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"2021-a-a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>IO<span class="jill"></span>操作时：</span><span>IOExcetipon</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>IO<span class="jill"></span>异常</span><span>IOExcetipon</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>文件找不到异常<span class="jill"></span>FileNotFoundException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> FileNotFoundException <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>反射异常：ReflectiveOperationException</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>核心反射中反射操作抛出的常见超类异常。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>类没找到：ClassNotFoundException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    public <span class="token keyword">static</span> void <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws ClassNotFoundException {
        Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> aClass <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"TestClass"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>方法没找到：NoSuchMethodException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    public <span class="token keyword">static</span> void <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws ClassNotFoundException<span class="token punctuation">,</span> NoSuchMethodException {
        Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> aClass <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"TestClass"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Method method <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>字段没找到：NoSuchFieldException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    public <span class="token keyword">static</span> void <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws ClassNotFoundException<span class="token punctuation">,</span> NoSuchMethodException<span class="token punctuation">,</span> NoSuchFieldException {
        Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">></span> aClass <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"TestClass"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Method method <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Field test <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>网络超时异常：TimeoutException</span></summary><div class="wolai-block wolai-text"><p><span>tomcat<span class="jill"></span>启动失败的时候可能会遇到这个异常</span></p></div></details><details class="wolai-block"><summary><div class="marker"></div><span>SQL<span class="jill"></span>语句异常：SQLException</span></summary><div class="wolai-block wolai-text"><p><span>JDBC<span class="jill"></span>操作会看到这个异常</span></p></div><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>    public <span class="token keyword">static</span> void <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws ClassNotFoundException<span class="token punctuation">,</span> SQLException {
        String DRIVER <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> URL <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> USERNAME <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> PASSWORD <span class="token operator">=</span> <span class="token string">""</span><span class="token comment" spellcheck="true">;</span>
        Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>DRIVER<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
        Connection c <span class="token operator">=</span> DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> USERNAME<span class="token punctuation">,</span> PASSWORD<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>未检查异常（就是运行时异常<span class="jill"></span>RuntimeException）</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>基本数据类型</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>算术异常：ArithmeticException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>int i <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>数组</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>下标越界：IndexOutOfBoundsException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        int<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> new int<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>
        arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token comment" spellcheck="true">;</span></pre></div><details class="wolai-block"><summary><div class="marker"></div><span>存在子类，字符串下表越界：StringIndexOutOfBoundsException</span></summary><div class="wolai-block wolai-pre"><div data-lang="C#" class="marker"></div><pre>        String s <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token comment" spellcheck="true">;</span>
        s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>数组存储类型不匹配：ArrayStoreException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        Object<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> new Integer<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>
        arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"str"</span><span class="token comment" spellcheck="true">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>负数数组大小异常：NegativeArraySizeException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>int<span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> new int<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details><details class="wolai-block"><summary><div class="marker"></div><span>对象、类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>方法</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>空指针：NullPointerException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        String s <span class="token operator">=</span> null<span class="token punctuation">;</span>
        s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>非法参数：IllegalArgumentException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>new <span class="token function">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
</pre></div><details class="wolai-block"><summary><div class="marker"></div><span>子类数字格式化异常：NumberFormatException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>Integer num <span class="token operator">=</span> new <span class="token function">Integer</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></pre></div></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>类</span></summary><details class="wolai-block"><summary><div class="marker"></div><span>类转换异常：ClassCastException</span></summary><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre>        Object x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        String x1 <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> x<span class="token punctuation">;</span></pre></div></details></details></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>错误（Error）</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>一个</span><span><code>Error</code></span><span>是的子类</span><span><code>Throwable</code></span><span>&nbsp;，表示严重的问题，合理的应用程序不应该试图捕获。</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>虚拟机错误：VirtualMachineError</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>抛出此异常表示<span class="jill"></span>Java<span class="jill"></span>虚拟机已损坏或已耗尽其继续运行所需的资源</span></li></ul><details class="wolai-block"><summary><div class="marker"></div><span>栈溢出：StackOverflowError</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>在发生堆栈溢出时抛出，因为应用程序过于严重。</span></li></ul><div class="wolai-block wolai-pre"><div data-lang="Java" class="marker"></div><pre> public <span class="token keyword">static</span> void <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> {
        <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }

    <span class="token keyword">static</span> void <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
        <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }</pre></div></details><details class="wolai-block"><summary><div class="marker"></div><span>内存超出：OutOfMemoryError</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>当<span class="jill"></span>Java<span class="jill"></span>虚拟机由于内存不足而无法分配对象时抛出，垃圾收集器不再提供更多内存。</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>未知错误：UnknownError</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>在<span class="jill"></span>Java<span class="jill"></span>虚拟机中发生未知但严重的异常时抛出。</span></li></ul></details></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>IO<span class="jill"></span>错误：IOError（</span><span>发生严重<span class="jill"></span>I&nbsp;/&nbsp;O<span class="jill"></span>错误时抛出。</span><span>）</span></summary></details></details></details><details class="wolai-block"><summary><div class="marker"></div><span>两种处理方式</span></summary><details class="wolai-block"><summary><div class="marker placeholder"></div><span>捕获&nbsp;try...catch...finally</span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span>抛出&nbsp;throws&nbsp;、throw</span></summary></details></details><details class="wolai-block"><summary><div class="marker"></div><span>扩展：自定义异常</span></summary><ul class="wolai-block"><li><div class="marker"></div><span>异常类也是类，集成<span class="jill"></span>Exception<span class="jill"></span>即可</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span>参考</span></summary><div class="wolai-block wolai-text"><p><span><a href="https://www.mklab.cn/api/jdk/8/cn"><span>Throwable</span></a></span><span>类</span></p></div></details></article><footer></footer></body></html>